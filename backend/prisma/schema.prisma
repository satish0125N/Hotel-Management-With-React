// schema.prisma schema.prisma b

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model Room {
  id             Int       @id @default(autoincrement())
  room_type      String
  capacity       Int
  price_per_night Decimal
  amenities      String?
  image_url      String?

  bookings       Booking[]
  roomImages     RoomImage[]
}

model User {
  id       Int       @id @default(autoincrement())
  username String    @unique
  password String
  role     String    @default("guest")

  bookings Booking[]
}

model Booking {
  id               Int       @id @default(autoincrement())
  user_id          Int
  room_id          Int
  checkin_date     DateTime
  checkout_date    DateTime
  number_of_guests Int
  total_price      Decimal

  user  User  @relation(fields: [user_id], references: [id], onDelete: Cascade)
  room  Room  @relation(fields: [room_id], references: [id], onDelete: Cascade)
}

model RoomImage {
  id            Int    @id @default(autoincrement())
  room_id      Int
  image_url    String
  display_order Int

  room Room @relation(fields: [room_id], references: [id], onDelete: Cascade)
}
